<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OWA-EPANET Toolkit 2.3: Water Quality Analysis Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">OWA-EPANET Toolkit 2.3
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group___quality.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Water Quality Analysis Functions</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga7b3d8f4623cc6d4dda6fb9d3afd378f4" id="r_ga7b3d8f4623cc6d4dda6fb9d3afd378f4"><td class="memItemLeft" align="right" valign="top">int DLLEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga7b3d8f4623cc6d4dda6fb9d3afd378f4">EN_solveQ</a> (<a class="el" href="epanet2__2_8h.html#ac1b7237e65fbaad96c05cc847adc0aeb">EN_Project</a> ph)</td></tr>
<tr class="memdesc:ga7b3d8f4623cc6d4dda6fb9d3afd378f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs a complete water quality simulation with results at uniform reporting intervals written to the project's binary output file.  <br /></td></tr>
<tr class="separator:ga7b3d8f4623cc6d4dda6fb9d3afd378f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1e8b2e81f5310d43afbe3aada5027f83" id="r_ga1e8b2e81f5310d43afbe3aada5027f83"><td class="memItemLeft" align="right" valign="top">int DLLEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1e8b2e81f5310d43afbe3aada5027f83">EN_openQ</a> (<a class="el" href="epanet2__2_8h.html#ac1b7237e65fbaad96c05cc847adc0aeb">EN_Project</a> ph)</td></tr>
<tr class="memdesc:ga1e8b2e81f5310d43afbe3aada5027f83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens a project's water quality solver.  <br /></td></tr>
<tr class="separator:ga1e8b2e81f5310d43afbe3aada5027f83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga68bfa6606604bf0cedcbc12591749f2c" id="r_ga68bfa6606604bf0cedcbc12591749f2c"><td class="memItemLeft" align="right" valign="top">int DLLEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga68bfa6606604bf0cedcbc12591749f2c">EN_initQ</a> (<a class="el" href="epanet2__2_8h.html#ac1b7237e65fbaad96c05cc847adc0aeb">EN_Project</a> ph, int saveFlag)</td></tr>
<tr class="memdesc:ga68bfa6606604bf0cedcbc12591749f2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a network prior to running a water quality analysis.  <br /></td></tr>
<tr class="separator:ga68bfa6606604bf0cedcbc12591749f2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5ce5c77c9af21711e6b68b90e0512ff9" id="r_ga5ce5c77c9af21711e6b68b90e0512ff9"><td class="memItemLeft" align="right" valign="top">int DLLEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga5ce5c77c9af21711e6b68b90e0512ff9">EN_runQ</a> (<a class="el" href="epanet2__2_8h.html#ac1b7237e65fbaad96c05cc847adc0aeb">EN_Project</a> ph, long *out_currentTime)</td></tr>
<tr class="memdesc:ga5ce5c77c9af21711e6b68b90e0512ff9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes hydraulic and water quality results at the start of the current time period available to a project's water quality solver.  <br /></td></tr>
<tr class="separator:ga5ce5c77c9af21711e6b68b90e0512ff9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga620133212b97123394de17c9d49a1765" id="r_ga620133212b97123394de17c9d49a1765"><td class="memItemLeft" align="right" valign="top">int DLLEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga620133212b97123394de17c9d49a1765">EN_nextQ</a> (<a class="el" href="epanet2__2_8h.html#ac1b7237e65fbaad96c05cc847adc0aeb">EN_Project</a> ph, long *out_tStep)</td></tr>
<tr class="memdesc:ga620133212b97123394de17c9d49a1765"><td class="mdescLeft">&#160;</td><td class="mdescRight">Advances a water quality simulation over the time until the next hydraulic event.  <br /></td></tr>
<tr class="separator:ga620133212b97123394de17c9d49a1765"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga17b6ebe5947bda7ec2c681bcdef1c2c6" id="r_ga17b6ebe5947bda7ec2c681bcdef1c2c6"><td class="memItemLeft" align="right" valign="top">int DLLEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga17b6ebe5947bda7ec2c681bcdef1c2c6">EN_stepQ</a> (<a class="el" href="epanet2__2_8h.html#ac1b7237e65fbaad96c05cc847adc0aeb">EN_Project</a> ph, long *out_timeLeft)</td></tr>
<tr class="memdesc:ga17b6ebe5947bda7ec2c681bcdef1c2c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Advances a water quality simulation by a single water quality time step.  <br /></td></tr>
<tr class="separator:ga17b6ebe5947bda7ec2c681bcdef1c2c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac34d2e8ca6ab7d07475570530a7fdda3" id="r_gac34d2e8ca6ab7d07475570530a7fdda3"><td class="memItemLeft" align="right" valign="top">int DLLEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac34d2e8ca6ab7d07475570530a7fdda3">EN_closeQ</a> (<a class="el" href="epanet2__2_8h.html#ac1b7237e65fbaad96c05cc847adc0aeb">EN_Project</a> ph)</td></tr>
<tr class="memdesc:gac34d2e8ca6ab7d07475570530a7fdda3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes the water quality solver, freeing all of its allocated memory.  <br /></td></tr>
<tr class="separator:gac34d2e8ca6ab7d07475570530a7fdda3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Overview</h2>
<p>These functions are used to perform a water quality analysis.</p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gac34d2e8ca6ab7d07475570530a7fdda3" name="gac34d2e8ca6ab7d07475570530a7fdda3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac34d2e8ca6ab7d07475570530a7fdda3">&#9670;&#160;</a></span>EN_closeQ()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DLLEXPORT EN_closeQ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="epanet2__2_8h.html#ac1b7237e65fbaad96c05cc847adc0aeb">EN_Project</a></td>          <td class="paramname"><span class="paramname"><em>ph</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes the water quality solver, freeing all of its allocated memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ph</td><td>an EPANET project handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an error code.</dd></dl>
<p>Call <a class="el" href="#gac34d2e8ca6ab7d07475570530a7fdda3" title="Closes the water quality solver, freeing all of its allocated memory.">EN_closeQ</a> after all water quality analyses have been made using the <a class="el" href="#ga68bfa6606604bf0cedcbc12591749f2c" title="Initializes a network prior to running a water quality analysis.">EN_initQ</a> - <a class="el" href="#ga5ce5c77c9af21711e6b68b90e0512ff9" title="Makes hydraulic and water quality results at the start of the current time period available to a proj...">EN_runQ</a> - <a class="el" href="#ga620133212b97123394de17c9d49a1765" title="Advances a water quality simulation over the time until the next hydraulic event.">EN_nextQ</a> (or <a class="el" href="#ga17b6ebe5947bda7ec2c681bcdef1c2c6" title="Advances a water quality simulation by a single water quality time step.">EN_stepQ</a>) sequence of function calls.</p>
<p>Do not call this function if <a class="el" href="#ga7b3d8f4623cc6d4dda6fb9d3afd378f4" title="Runs a complete water quality simulation with results at uniform reporting intervals written to the p...">EN_solveQ</a> is being used. </p>

</div>
</div>
<a id="ga68bfa6606604bf0cedcbc12591749f2c" name="ga68bfa6606604bf0cedcbc12591749f2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga68bfa6606604bf0cedcbc12591749f2c">&#9670;&#160;</a></span>EN_initQ()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DLLEXPORT EN_initQ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="epanet2__2_8h.html#ac1b7237e65fbaad96c05cc847adc0aeb">EN_Project</a></td>          <td class="paramname"><span class="paramname"><em>ph</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>saveFlag</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a network prior to running a water quality analysis. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ph</td><td>an EPANET project handle. </td></tr>
    <tr><td class="paramname">saveFlag</td><td>set to <code>EN_SAVE</code> (1) if results are to be saved to the project's binary output file, or to <code>EN_NOSAVE</code> (0) if not. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an error code.</dd></dl>
<p>Call <a class="el" href="#ga68bfa6606604bf0cedcbc12591749f2c" title="Initializes a network prior to running a water quality analysis.">EN_initQ</a> prior to running a water quality analysis using <a class="el" href="#ga5ce5c77c9af21711e6b68b90e0512ff9" title="Makes hydraulic and water quality results at the start of the current time period available to a proj...">EN_runQ</a> in conjunction with either <a class="el" href="#ga620133212b97123394de17c9d49a1765" title="Advances a water quality simulation over the time until the next hydraulic event.">EN_nextQ</a> or <a class="el" href="#ga17b6ebe5947bda7ec2c681bcdef1c2c6" title="Advances a water quality simulation by a single water quality time step.">EN_stepQ</a>.</p>
<p><a class="el" href="#ga1e8b2e81f5310d43afbe3aada5027f83" title="Opens a project&#39;s water quality solver.">EN_openQ</a> must have been called prior to calling <a class="el" href="#ga68bfa6606604bf0cedcbc12591749f2c" title="Initializes a network prior to running a water quality analysis.">EN_initQ</a>.</p>
<p>Do not call <a class="el" href="#ga68bfa6606604bf0cedcbc12591749f2c" title="Initializes a network prior to running a water quality analysis.">EN_initQ</a> if a complete water quality analysis will be made using <a class="el" href="#ga7b3d8f4623cc6d4dda6fb9d3afd378f4" title="Runs a complete water quality simulation with results at uniform reporting intervals written to the p...">EN_solveQ</a>. </p>

</div>
</div>
<a id="ga620133212b97123394de17c9d49a1765" name="ga620133212b97123394de17c9d49a1765"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga620133212b97123394de17c9d49a1765">&#9670;&#160;</a></span>EN_nextQ()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DLLEXPORT EN_nextQ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="epanet2__2_8h.html#ac1b7237e65fbaad96c05cc847adc0aeb">EN_Project</a></td>          <td class="paramname"><span class="paramname"><em>ph</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *</td>          <td class="paramname"><span class="paramname"><em>out_tStep</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Advances a water quality simulation over the time until the next hydraulic event. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">ph</td><td>an EPANET project handle. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out_tStep</td><td>time (in seconds) until the next hydraulic event or 0 if at the end of the full simulation duration. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an error code.</dd></dl>
<p>This function is used in a loop with <a class="el" href="#ga5ce5c77c9af21711e6b68b90e0512ff9" title="Makes hydraulic and water quality results at the start of the current time period available to a proj...">EN_runQ</a> to perform an extended period water quality analysis. It reacts and routes a project's water quality constituent over a time step determined by when the next hydraulic event occurs. Use <a class="el" href="#ga17b6ebe5947bda7ec2c681bcdef1c2c6" title="Advances a water quality simulation by a single water quality time step.">EN_stepQ</a> instead if you wish to generate results over each water quality time step.</p>
<p>The value of <code>out_tStep</code> is determined from information produced by the hydraulic analysis that preceded the water quality analysis. Treat it as a read-only variable.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="keywordtype">long</span> t, tStep;</div>
<div class="line"><a class="code hl_function" href="group___hydraulics.html#gaaa7aaf68ebb9c8c6709489073fc08f8e">EN_solveH</a>(ph);  <span class="comment">// Generate &amp; save hydraulics</span></div>
<div class="line"><a class="code hl_function" href="#ga1e8b2e81f5310d43afbe3aada5027f83">EN_openQ</a>(ph);</div>
<div class="line"><a class="code hl_function" href="#ga68bfa6606604bf0cedcbc12591749f2c">EN_initQ</a>(ph, <a class="code hl_enumvalue" href="epanet2__enums_8h.html#ga31619090f36109c92b31c2c3dc66c230a0298460efda9f3c67c6a84f84149f2d4">EN_NOSAVE</a>);</div>
<div class="line"><span class="keywordflow">do</span> {</div>
<div class="line">  <a class="code hl_function" href="#ga5ce5c77c9af21711e6b68b90e0512ff9">EN_runQ</a>(ph, &amp;t);</div>
<div class="line">  <span class="comment">// Monitor results at time t, which</span></div>
<div class="line">  <span class="comment">// begins a new hydraulic time period</span></div>
<div class="line">  <a class="code hl_function" href="#ga620133212b97123394de17c9d49a1765">EN_nextQ</a>(ph, &amp;tStep);</div>
<div class="line">} <span class="keywordflow">while</span> (tStep &gt; 0);</div>
<div class="line"><a class="code hl_function" href="#gac34d2e8ca6ab7d07475570530a7fdda3">EN_closeQ</a>(ph);</div>
<div class="ttc" id="aepanet2__enums_8h_html_ga31619090f36109c92b31c2c3dc66c230a0298460efda9f3c67c6a84f84149f2d4"><div class="ttname"><a href="epanet2__enums_8h.html#ga31619090f36109c92b31c2c3dc66c230a0298460efda9f3c67c6a84f84149f2d4">EN_NOSAVE</a></div><div class="ttdeci">@ EN_NOSAVE</div><div class="ttdoc">Don&#39;t save hydraulics; don&#39;t re-initialize flows.</div><div class="ttdef"><b>Definition</b> epanet2_enums.h:412</div></div>
<div class="ttc" id="agroup___hydraulics_html_gaaa7aaf68ebb9c8c6709489073fc08f8e"><div class="ttname"><a href="group___hydraulics.html#gaaa7aaf68ebb9c8c6709489073fc08f8e">EN_solveH</a></div><div class="ttdeci">int DLLEXPORT EN_solveH(EN_Project ph)</div><div class="ttdoc">Runs a complete hydraulic simulation with results for all time periods written to a temporary hydraul...</div></div>
<div class="ttc" id="agroup___quality_html_ga1e8b2e81f5310d43afbe3aada5027f83"><div class="ttname"><a href="#ga1e8b2e81f5310d43afbe3aada5027f83">EN_openQ</a></div><div class="ttdeci">int DLLEXPORT EN_openQ(EN_Project ph)</div><div class="ttdoc">Opens a project&#39;s water quality solver.</div></div>
<div class="ttc" id="agroup___quality_html_ga5ce5c77c9af21711e6b68b90e0512ff9"><div class="ttname"><a href="#ga5ce5c77c9af21711e6b68b90e0512ff9">EN_runQ</a></div><div class="ttdeci">int DLLEXPORT EN_runQ(EN_Project ph, long *out_currentTime)</div><div class="ttdoc">Makes hydraulic and water quality results at the start of the current time period available to a proj...</div></div>
<div class="ttc" id="agroup___quality_html_ga620133212b97123394de17c9d49a1765"><div class="ttname"><a href="#ga620133212b97123394de17c9d49a1765">EN_nextQ</a></div><div class="ttdeci">int DLLEXPORT EN_nextQ(EN_Project ph, long *out_tStep)</div><div class="ttdoc">Advances a water quality simulation over the time until the next hydraulic event.</div></div>
<div class="ttc" id="agroup___quality_html_ga68bfa6606604bf0cedcbc12591749f2c"><div class="ttname"><a href="#ga68bfa6606604bf0cedcbc12591749f2c">EN_initQ</a></div><div class="ttdeci">int DLLEXPORT EN_initQ(EN_Project ph, int saveFlag)</div><div class="ttdoc">Initializes a network prior to running a water quality analysis.</div></div>
<div class="ttc" id="agroup___quality_html_gac34d2e8ca6ab7d07475570530a7fdda3"><div class="ttname"><a href="#gac34d2e8ca6ab7d07475570530a7fdda3">EN_closeQ</a></div><div class="ttdeci">int DLLEXPORT EN_closeQ(EN_Project ph)</div><div class="ttdoc">Closes the water quality solver, freeing all of its allocated memory.</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="ga1e8b2e81f5310d43afbe3aada5027f83" name="ga1e8b2e81f5310d43afbe3aada5027f83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1e8b2e81f5310d43afbe3aada5027f83">&#9670;&#160;</a></span>EN_openQ()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DLLEXPORT EN_openQ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="epanet2__2_8h.html#ac1b7237e65fbaad96c05cc847adc0aeb">EN_Project</a></td>          <td class="paramname"><span class="paramname"><em>ph</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opens a project's water quality solver. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ph</td><td>an EPANET project handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an error code.</dd></dl>
<p>Call <a class="el" href="#ga1e8b2e81f5310d43afbe3aada5027f83" title="Opens a project&#39;s water quality solver.">EN_openQ</a> prior to running the first water quality analysis using an <a class="el" href="#ga68bfa6606604bf0cedcbc12591749f2c" title="Initializes a network prior to running a water quality analysis.">EN_initQ</a> - <a class="el" href="#ga5ce5c77c9af21711e6b68b90e0512ff9" title="Makes hydraulic and water quality results at the start of the current time period available to a proj...">EN_runQ</a> - <a class="el" href="#ga620133212b97123394de17c9d49a1765" title="Advances a water quality simulation over the time until the next hydraulic event.">EN_nextQ</a> (or <a class="el" href="#ga17b6ebe5947bda7ec2c681bcdef1c2c6" title="Advances a water quality simulation by a single water quality time step.">EN_stepQ</a>) sequence. Multiple water quality analyses can be made before calling <a class="el" href="#gac34d2e8ca6ab7d07475570530a7fdda3" title="Closes the water quality solver, freeing all of its allocated memory.">EN_closeQ</a> to close the water quality solver.</p>
<p>Do not call this function if a complete water quality analysis will be made using <a class="el" href="#ga7b3d8f4623cc6d4dda6fb9d3afd378f4" title="Runs a complete water quality simulation with results at uniform reporting intervals written to the p...">EN_solveQ</a>. </p>

</div>
</div>
<a id="ga5ce5c77c9af21711e6b68b90e0512ff9" name="ga5ce5c77c9af21711e6b68b90e0512ff9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5ce5c77c9af21711e6b68b90e0512ff9">&#9670;&#160;</a></span>EN_runQ()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DLLEXPORT EN_runQ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="epanet2__2_8h.html#ac1b7237e65fbaad96c05cc847adc0aeb">EN_Project</a></td>          <td class="paramname"><span class="paramname"><em>ph</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *</td>          <td class="paramname"><span class="paramname"><em>out_currentTime</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Makes hydraulic and water quality results at the start of the current time period available to a project's water quality solver. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">ph</td><td>an EPANET project handle. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out_currentTime</td><td>current simulation time in seconds. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an error code.</dd></dl>
<p>Use <a class="el" href="#ga5ce5c77c9af21711e6b68b90e0512ff9" title="Makes hydraulic and water quality results at the start of the current time period available to a proj...">EN_runQ</a> along with <a class="el" href="#ga620133212b97123394de17c9d49a1765" title="Advances a water quality simulation over the time until the next hydraulic event.">EN_nextQ</a> in a loop to access water quality results at the start of each hydraulic period in an extended period simulation. Or use it in a loop with <a class="el" href="#ga17b6ebe5947bda7ec2c681bcdef1c2c6" title="Advances a water quality simulation by a single water quality time step.">EN_stepQ</a> to access results at the start of each water quality time step. See each of these functions for examples of how to code such loops.</p>
<p><a class="el" href="#ga68bfa6606604bf0cedcbc12591749f2c" title="Initializes a network prior to running a water quality analysis.">EN_initQ</a> must have been called prior to running an <a class="el" href="#ga5ce5c77c9af21711e6b68b90e0512ff9" title="Makes hydraulic and water quality results at the start of the current time period available to a proj...">EN_runQ</a> - <a class="el" href="#ga620133212b97123394de17c9d49a1765" title="Advances a water quality simulation over the time until the next hydraulic event.">EN_nextQ</a> (or <a class="el" href="#ga17b6ebe5947bda7ec2c681bcdef1c2c6" title="Advances a water quality simulation by a single water quality time step.">EN_stepQ</a>) loop.</p>
<p>The current time of the simulation, <code>out_currentTime</code>, is determined from information saved with the hydraulic analysis that preceded the water quality analysis. Treat it as a read-only variable. </p>

</div>
</div>
<a id="ga7b3d8f4623cc6d4dda6fb9d3afd378f4" name="ga7b3d8f4623cc6d4dda6fb9d3afd378f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7b3d8f4623cc6d4dda6fb9d3afd378f4">&#9670;&#160;</a></span>EN_solveQ()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DLLEXPORT EN_solveQ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="epanet2__2_8h.html#ac1b7237e65fbaad96c05cc847adc0aeb">EN_Project</a></td>          <td class="paramname"><span class="paramname"><em>ph</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs a complete water quality simulation with results at uniform reporting intervals written to the project's binary output file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ph</td><td>an EPANET project handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an error code.</dd></dl>
<p>A hydraulic analysis must have been run and saved to a hydraulics file before calling <a class="el" href="#ga7b3d8f4623cc6d4dda6fb9d3afd378f4" title="Runs a complete water quality simulation with results at uniform reporting intervals written to the p...">EN_solveQ</a>. This function will not allow one to examine intermediate water quality results as they are generated. It can be followed by a call to <a class="el" href="group___reporting.html#gac89aaac21e17d1900bcd0a7b8bac2db1" title="Writes simulation results in a tabular format to a project&#39;s report file.">EN_report</a> to write all hydraulic and water quality results to a formatted report file.</p>
<p>One can instead use the <a class="el" href="#ga1e8b2e81f5310d43afbe3aada5027f83" title="Opens a project&#39;s water quality solver.">EN_openQ</a> - <a class="el" href="#ga68bfa6606604bf0cedcbc12591749f2c" title="Initializes a network prior to running a water quality analysis.">EN_initQ</a> - <a class="el" href="#ga5ce5c77c9af21711e6b68b90e0512ff9" title="Makes hydraulic and water quality results at the start of the current time period available to a proj...">EN_runQ</a> - <a class="el" href="#ga620133212b97123394de17c9d49a1765" title="Advances a water quality simulation over the time until the next hydraulic event.">EN_nextQ</a> - <a class="el" href="#gac34d2e8ca6ab7d07475570530a7fdda3" title="Closes the water quality solver, freeing all of its allocated memory.">EN_closeQ</a> sequence to gain access to gain access to water quality results at intermediate time periods.</p>
<p><b>Example:</b> see <a class="el" href="group___hydraulics.html#gaaa7aaf68ebb9c8c6709489073fc08f8e" title="Runs a complete hydraulic simulation with results for all time periods written to a temporary hydraul...">EN_solveH</a>. </p>

</div>
</div>
<a id="ga17b6ebe5947bda7ec2c681bcdef1c2c6" name="ga17b6ebe5947bda7ec2c681bcdef1c2c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga17b6ebe5947bda7ec2c681bcdef1c2c6">&#9670;&#160;</a></span>EN_stepQ()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DLLEXPORT EN_stepQ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="epanet2__2_8h.html#ac1b7237e65fbaad96c05cc847adc0aeb">EN_Project</a></td>          <td class="paramname"><span class="paramname"><em>ph</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *</td>          <td class="paramname"><span class="paramname"><em>out_timeLeft</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Advances a water quality simulation by a single water quality time step. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">ph</td><td>an EPANET project handle. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out_timeLeft</td><td>time left (in seconds) to the overall simulation duration. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an error code.</dd></dl>
<p>This function is used in a loop with <a class="el" href="#ga5ce5c77c9af21711e6b68b90e0512ff9" title="Makes hydraulic and water quality results at the start of the current time period available to a proj...">EN_runQ</a> to perform an extended period water quality simulation. It allows one to generate water quality results at each water quality time step of the simulation, rather than over each hydraulic event period as with <a class="el" href="#ga620133212b97123394de17c9d49a1765" title="Advances a water quality simulation over the time until the next hydraulic event.">EN_nextQ</a>.</p>
<p>Use the argument <code>out_timeLeft</code> to determine when no more calls to <a class="el" href="#ga5ce5c77c9af21711e6b68b90e0512ff9" title="Makes hydraulic and water quality results at the start of the current time period available to a proj...">EN_runQ</a> are needed because the end of the simulation period has been reached (i.e., when <code>out_timeLeft</code> = 0). </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
<!--    <li class="footer">OWA-EPANET Toolkit 2.3 &copy 2025</li> -->
  </ul>
</div>
</body>
</html>
