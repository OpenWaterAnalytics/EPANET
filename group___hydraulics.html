<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OWA-EPANET Toolkit 2.3: Hydraulic Analysis Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">OWA-EPANET Toolkit 2.3
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group___hydraulics.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Hydraulic Analysis Functions</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaaa7aaf68ebb9c8c6709489073fc08f8e" id="r_gaaa7aaf68ebb9c8c6709489073fc08f8e"><td class="memItemLeft" align="right" valign="top">int DLLEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaaa7aaf68ebb9c8c6709489073fc08f8e">EN_solveH</a> (<a class="el" href="epanet2__2_8h.html#ac1b7237e65fbaad96c05cc847adc0aeb">EN_Project</a> ph)</td></tr>
<tr class="memdesc:gaaa7aaf68ebb9c8c6709489073fc08f8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs a complete hydraulic simulation with results for all time periods written to a temporary hydraulics file.  <br /></td></tr>
<tr class="separator:gaaa7aaf68ebb9c8c6709489073fc08f8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga78acfba723ae8288403398f6d363b201" id="r_ga78acfba723ae8288403398f6d363b201"><td class="memItemLeft" align="right" valign="top">int DLLEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga78acfba723ae8288403398f6d363b201">EN_usehydfile</a> (<a class="el" href="epanet2__2_8h.html#ac1b7237e65fbaad96c05cc847adc0aeb">EN_Project</a> ph, const char *filename)</td></tr>
<tr class="memdesc:ga78acfba723ae8288403398f6d363b201"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uses a previously saved binary hydraulics file to supply a project's hydraulics.  <br /></td></tr>
<tr class="separator:ga78acfba723ae8288403398f6d363b201"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad192b9fea6d952eb9c2fb27e5d38aaf1" id="r_gad192b9fea6d952eb9c2fb27e5d38aaf1"><td class="memItemLeft" align="right" valign="top">int DLLEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad192b9fea6d952eb9c2fb27e5d38aaf1">EN_openH</a> (<a class="el" href="epanet2__2_8h.html#ac1b7237e65fbaad96c05cc847adc0aeb">EN_Project</a> ph)</td></tr>
<tr class="memdesc:gad192b9fea6d952eb9c2fb27e5d38aaf1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens a project's hydraulic solver.  <br /></td></tr>
<tr class="separator:gad192b9fea6d952eb9c2fb27e5d38aaf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga047a21c032812f18945e7d0f98f0fbfd" id="r_ga047a21c032812f18945e7d0f98f0fbfd"><td class="memItemLeft" align="right" valign="top">int DLLEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga047a21c032812f18945e7d0f98f0fbfd">EN_initH</a> (<a class="el" href="epanet2__2_8h.html#ac1b7237e65fbaad96c05cc847adc0aeb">EN_Project</a> ph, int initFlag)</td></tr>
<tr class="memdesc:ga047a21c032812f18945e7d0f98f0fbfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a network prior to running a hydraulic analysis.  <br /></td></tr>
<tr class="separator:ga047a21c032812f18945e7d0f98f0fbfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaae06b845e3cf5dcb33196a2695a026a7" id="r_gaae06b845e3cf5dcb33196a2695a026a7"><td class="memItemLeft" align="right" valign="top">int DLLEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaae06b845e3cf5dcb33196a2695a026a7">EN_runH</a> (<a class="el" href="epanet2__2_8h.html#ac1b7237e65fbaad96c05cc847adc0aeb">EN_Project</a> ph, long *out_currentTime)</td></tr>
<tr class="memdesc:gaae06b845e3cf5dcb33196a2695a026a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes a hydraulic solution for the current point in time.  <br /></td></tr>
<tr class="separator:gaae06b845e3cf5dcb33196a2695a026a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac9fb0f4f7ed9388ae1992d0d40dd98f0" id="r_gac9fb0f4f7ed9388ae1992d0d40dd98f0"><td class="memItemLeft" align="right" valign="top">int DLLEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac9fb0f4f7ed9388ae1992d0d40dd98f0">EN_nextH</a> (<a class="el" href="epanet2__2_8h.html#ac1b7237e65fbaad96c05cc847adc0aeb">EN_Project</a> ph, long *out_tStep)</td></tr>
<tr class="memdesc:gac9fb0f4f7ed9388ae1992d0d40dd98f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines the length of time until the next hydraulic event occurs in an extended period simulation.  <br /></td></tr>
<tr class="separator:gac9fb0f4f7ed9388ae1992d0d40dd98f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0eda31372ded11a0a053798e41be456c" id="r_ga0eda31372ded11a0a053798e41be456c"><td class="memItemLeft" align="right" valign="top">int DLLEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga0eda31372ded11a0a053798e41be456c">EN_saveH</a> (<a class="el" href="epanet2__2_8h.html#ac1b7237e65fbaad96c05cc847adc0aeb">EN_Project</a> ph)</td></tr>
<tr class="memdesc:ga0eda31372ded11a0a053798e41be456c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfers a project's hydraulics results from its temporary hydraulics file to its binary output file, where results are only reported at uniform reporting intervals.  <br /></td></tr>
<tr class="separator:ga0eda31372ded11a0a053798e41be456c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad2801c5cd2a3329bde3b37ca2c990b3b" id="r_gad2801c5cd2a3329bde3b37ca2c990b3b"><td class="memItemLeft" align="right" valign="top">int DLLEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad2801c5cd2a3329bde3b37ca2c990b3b">EN_savehydfile</a> (<a class="el" href="epanet2__2_8h.html#ac1b7237e65fbaad96c05cc847adc0aeb">EN_Project</a> ph, const char *filename)</td></tr>
<tr class="memdesc:gad2801c5cd2a3329bde3b37ca2c990b3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves a project's temporary hydraulics file to disk.  <br /></td></tr>
<tr class="separator:gad2801c5cd2a3329bde3b37ca2c990b3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga243d3c641e02d6a416726eeb76443cf0" id="r_ga243d3c641e02d6a416726eeb76443cf0"><td class="memItemLeft" align="right" valign="top">int DLLEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga243d3c641e02d6a416726eeb76443cf0">EN_closeH</a> (<a class="el" href="epanet2__2_8h.html#ac1b7237e65fbaad96c05cc847adc0aeb">EN_Project</a> ph)</td></tr>
<tr class="memdesc:ga243d3c641e02d6a416726eeb76443cf0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes the hydraulic solver freeing all of its allocated memory.  <br /></td></tr>
<tr class="separator:ga243d3c641e02d6a416726eeb76443cf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Overview</h2>
<p>These functions are used to perform a hydraulic analysis.</p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga243d3c641e02d6a416726eeb76443cf0" name="ga243d3c641e02d6a416726eeb76443cf0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga243d3c641e02d6a416726eeb76443cf0">&#9670;&#160;</a></span>EN_closeH()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DLLEXPORT EN_closeH </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="epanet2__2_8h.html#ac1b7237e65fbaad96c05cc847adc0aeb">EN_Project</a></td>          <td class="paramname"><span class="paramname"><em>ph</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes the hydraulic solver freeing all of its allocated memory. </p>
<dl class="section return"><dt>Returns</dt><dd>an error code.</dd></dl>
<p>Call <a class="el" href="#ga243d3c641e02d6a416726eeb76443cf0" title="Closes the hydraulic solver freeing all of its allocated memory.">EN_closeH</a> after all hydraulics analyses have been made using <a class="el" href="#ga047a21c032812f18945e7d0f98f0fbfd" title="Initializes a network prior to running a hydraulic analysis.">EN_initH</a> - <a class="el" href="#gaae06b845e3cf5dcb33196a2695a026a7" title="Computes a hydraulic solution for the current point in time.">EN_runH</a> - <a class="el" href="#gac9fb0f4f7ed9388ae1992d0d40dd98f0" title="Determines the length of time until the next hydraulic event occurs in an extended period simulation.">EN_nextH</a>. Do not call this function if <a class="el" href="#gaaa7aaf68ebb9c8c6709489073fc08f8e" title="Runs a complete hydraulic simulation with results for all time periods written to a temporary hydraul...">EN_solveH</a> is being used. </p>

</div>
</div>
<a id="ga047a21c032812f18945e7d0f98f0fbfd" name="ga047a21c032812f18945e7d0f98f0fbfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga047a21c032812f18945e7d0f98f0fbfd">&#9670;&#160;</a></span>EN_initH()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DLLEXPORT EN_initH </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="epanet2__2_8h.html#ac1b7237e65fbaad96c05cc847adc0aeb">EN_Project</a></td>          <td class="paramname"><span class="paramname"><em>ph</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>initFlag</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a network prior to running a hydraulic analysis. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ph</td><td>an EPANET project handle. </td></tr>
    <tr><td class="paramname">initFlag</td><td>a 2-digit initialization flag (see <a class="el" href="group___enumerations.html#ga31619090f36109c92b31c2c3dc66c230">EN_InitHydOption</a>). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an error code.</dd></dl>
<p>This function initializes storage tank levels, link status and settings, and the simulation time clock prior to running a hydraulic analysis.</p>
<p>The initialization flag is a two digit number where the 1st (left) digit indicates if link flows should be re-initialized (1) or not (0), and the 2nd digit indicates if hydraulic results should be saved to a temporary binary hydraulics file (1) or not (0).</p>
<p>Be sure to call <a class="el" href="#ga047a21c032812f18945e7d0f98f0fbfd" title="Initializes a network prior to running a hydraulic analysis.">EN_initH</a> prior to running a hydraulic analysis using a <a class="el" href="#gaae06b845e3cf5dcb33196a2695a026a7" title="Computes a hydraulic solution for the current point in time.">EN_runH</a> - <a class="el" href="#gac9fb0f4f7ed9388ae1992d0d40dd98f0" title="Determines the length of time until the next hydraulic event occurs in an extended period simulation.">EN_nextH</a> loop.</p>
<p>Choose to save hydraulics results if you will be:</p><ul>
<li>making a subsequent water quality run,</li>
<li>using <a class="el" href="group___reporting.html#gac89aaac21e17d1900bcd0a7b8bac2db1" title="Writes simulation results in a tabular format to a project&#39;s report file.">EN_report</a> to generate a report</li>
<li>using <a class="el" href="#gad2801c5cd2a3329bde3b37ca2c990b3b" title="Saves a project&#39;s temporary hydraulics file to disk.">EN_savehydfile</a> to save the binary hydraulics file.</li>
</ul>
<p>There is no need to save hydraulics if you will be writing custom code to process hydraulic results as they are generated using the functions <a class="el" href="group___nodes.html#ga364c0ae5843d585148313b61e88dd1ac" title="Retrieves a property value for a node.">EN_getnodevalue</a> and <a class="el" href="group___links.html#ga0d7ae66dd64e55abd45ab6175e8e200d" title="Retrieves a property value for a link.">EN_getlinkvalue</a>. </p>

</div>
</div>
<a id="gac9fb0f4f7ed9388ae1992d0d40dd98f0" name="gac9fb0f4f7ed9388ae1992d0d40dd98f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac9fb0f4f7ed9388ae1992d0d40dd98f0">&#9670;&#160;</a></span>EN_nextH()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DLLEXPORT EN_nextH </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="epanet2__2_8h.html#ac1b7237e65fbaad96c05cc847adc0aeb">EN_Project</a></td>          <td class="paramname"><span class="paramname"><em>ph</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *</td>          <td class="paramname"><span class="paramname"><em>out_tStep</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines the length of time until the next hydraulic event occurs in an extended period simulation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">ph</td><td>an EPANET project handle. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out_tStep</td><td>the time (in seconds) until the next hydraulic event or 0 if at the end of the full simulation duration. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an error code.</dd></dl>
<p>This function is used in a loop with <a class="el" href="#gaae06b845e3cf5dcb33196a2695a026a7" title="Computes a hydraulic solution for the current point in time.">EN_runH</a> to run an extended period hydraulic simulation.</p>
<p>The value of <code>out_tstep</code> should be treated as a read-only variable. It is automatically computed as the smaller of:</p><ul>
<li>the time interval until the next hydraulic time step begins</li>
<li>the time interval until the next reporting time step begins</li>
<li>the time interval until the next change in demands occurs</li>
<li>the time interval until a tank becomes full or empty</li>
<li>the time interval until a control or rule fires.</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="keywordtype">long</span> t, tstep;</div>
<div class="line"><a class="code hl_function" href="#gad192b9fea6d952eb9c2fb27e5d38aaf1">EN_openH</a>(ph);</div>
<div class="line"><a class="code hl_function" href="#ga047a21c032812f18945e7d0f98f0fbfd">EN_initH</a>(ph, <a class="code hl_enumvalue" href="epanet2__enums_8h.html#ga31619090f36109c92b31c2c3dc66c230a0298460efda9f3c67c6a84f84149f2d4">EN_NOSAVE</a>);</div>
<div class="line"><span class="keywordflow">do</span> {</div>
<div class="line">  <a class="code hl_function" href="#gaae06b845e3cf5dcb33196a2695a026a7">EN_runH</a>(ph, &amp;t);</div>
<div class="line">  <span class="comment">// Retrieve hydraulic results for time t</span></div>
<div class="line">  <a class="code hl_function" href="#gac9fb0f4f7ed9388ae1992d0d40dd98f0">EN_nextH</a>(ph, &amp;tstep);</div>
<div class="line">} <span class="keywordflow">while</span> (tstep &gt; 0);</div>
<div class="line"><a class="code hl_function" href="#ga243d3c641e02d6a416726eeb76443cf0">EN_closeH</a>(ph);</div>
<div class="ttc" id="aepanet2__enums_8h_html_ga31619090f36109c92b31c2c3dc66c230a0298460efda9f3c67c6a84f84149f2d4"><div class="ttname"><a href="epanet2__enums_8h.html#ga31619090f36109c92b31c2c3dc66c230a0298460efda9f3c67c6a84f84149f2d4">EN_NOSAVE</a></div><div class="ttdeci">@ EN_NOSAVE</div><div class="ttdoc">Don&#39;t save hydraulics; don&#39;t re-initialize flows.</div><div class="ttdef"><b>Definition</b> epanet2_enums.h:412</div></div>
<div class="ttc" id="agroup___hydraulics_html_ga047a21c032812f18945e7d0f98f0fbfd"><div class="ttname"><a href="#ga047a21c032812f18945e7d0f98f0fbfd">EN_initH</a></div><div class="ttdeci">int DLLEXPORT EN_initH(EN_Project ph, int initFlag)</div><div class="ttdoc">Initializes a network prior to running a hydraulic analysis.</div></div>
<div class="ttc" id="agroup___hydraulics_html_ga243d3c641e02d6a416726eeb76443cf0"><div class="ttname"><a href="#ga243d3c641e02d6a416726eeb76443cf0">EN_closeH</a></div><div class="ttdeci">int DLLEXPORT EN_closeH(EN_Project ph)</div><div class="ttdoc">Closes the hydraulic solver freeing all of its allocated memory.</div></div>
<div class="ttc" id="agroup___hydraulics_html_gaae06b845e3cf5dcb33196a2695a026a7"><div class="ttname"><a href="#gaae06b845e3cf5dcb33196a2695a026a7">EN_runH</a></div><div class="ttdeci">int DLLEXPORT EN_runH(EN_Project ph, long *out_currentTime)</div><div class="ttdoc">Computes a hydraulic solution for the current point in time.</div></div>
<div class="ttc" id="agroup___hydraulics_html_gac9fb0f4f7ed9388ae1992d0d40dd98f0"><div class="ttname"><a href="#gac9fb0f4f7ed9388ae1992d0d40dd98f0">EN_nextH</a></div><div class="ttdeci">int DLLEXPORT EN_nextH(EN_Project ph, long *out_tStep)</div><div class="ttdoc">Determines the length of time until the next hydraulic event occurs in an extended period simulation.</div></div>
<div class="ttc" id="agroup___hydraulics_html_gad192b9fea6d952eb9c2fb27e5d38aaf1"><div class="ttname"><a href="#gad192b9fea6d952eb9c2fb27e5d38aaf1">EN_openH</a></div><div class="ttdeci">int DLLEXPORT EN_openH(EN_Project ph)</div><div class="ttdoc">Opens a project&#39;s hydraulic solver.</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="gad192b9fea6d952eb9c2fb27e5d38aaf1" name="gad192b9fea6d952eb9c2fb27e5d38aaf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad192b9fea6d952eb9c2fb27e5d38aaf1">&#9670;&#160;</a></span>EN_openH()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DLLEXPORT EN_openH </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="epanet2__2_8h.html#ac1b7237e65fbaad96c05cc847adc0aeb">EN_Project</a></td>          <td class="paramname"><span class="paramname"><em>ph</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opens a project's hydraulic solver. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ph</td><td>an EPANET project handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an error code.</dd></dl>
<p>Call <a class="el" href="#gad192b9fea6d952eb9c2fb27e5d38aaf1" title="Opens a project&#39;s hydraulic solver.">EN_openH</a> prior to running the first hydraulic analysis using the <a class="el" href="#ga047a21c032812f18945e7d0f98f0fbfd" title="Initializes a network prior to running a hydraulic analysis.">EN_initH</a> - <a class="el" href="#gaae06b845e3cf5dcb33196a2695a026a7" title="Computes a hydraulic solution for the current point in time.">EN_runH</a> - <a class="el" href="#gac9fb0f4f7ed9388ae1992d0d40dd98f0" title="Determines the length of time until the next hydraulic event occurs in an extended period simulation.">EN_nextH</a> sequence. Multiple analyses can be made before calling <a class="el" href="#ga243d3c641e02d6a416726eeb76443cf0" title="Closes the hydraulic solver freeing all of its allocated memory.">EN_closeH</a> to close the hydraulic solver.</p>
<p>Do not call this function if <a class="el" href="#gaaa7aaf68ebb9c8c6709489073fc08f8e" title="Runs a complete hydraulic simulation with results for all time periods written to a temporary hydraul...">EN_solveH</a> is being used to run a complete hydraulic analysis or if hydraulics are being supplied by a previously saved hydraulics file using <a class="el" href="#ga78acfba723ae8288403398f6d363b201" title="Uses a previously saved binary hydraulics file to supply a project&#39;s hydraulics.">EN_usehydfile</a>. </p>

</div>
</div>
<a id="gaae06b845e3cf5dcb33196a2695a026a7" name="gaae06b845e3cf5dcb33196a2695a026a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaae06b845e3cf5dcb33196a2695a026a7">&#9670;&#160;</a></span>EN_runH()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DLLEXPORT EN_runH </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="epanet2__2_8h.html#ac1b7237e65fbaad96c05cc847adc0aeb">EN_Project</a></td>          <td class="paramname"><span class="paramname"><em>ph</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *</td>          <td class="paramname"><span class="paramname"><em>out_currentTime</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes a hydraulic solution for the current point in time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">ph</td><td>an EPANET project handle. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out_currentTime</td><td>the current simulation time in seconds. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an error or warning code.</dd></dl>
<p>This function is used in a loop with <a class="el" href="#gac9fb0f4f7ed9388ae1992d0d40dd98f0" title="Determines the length of time until the next hydraulic event occurs in an extended period simulation.">EN_nextH</a> to run an extended period hydraulic simulation. This process automatically updates the simulation clock time so <code>currentTime</code> should be treated as a read-only variable.</p>
<p><a class="el" href="#ga047a21c032812f18945e7d0f98f0fbfd" title="Initializes a network prior to running a hydraulic analysis.">EN_initH</a> must have been called prior to running the <a class="el" href="#gaae06b845e3cf5dcb33196a2695a026a7" title="Computes a hydraulic solution for the current point in time.">EN_runH</a> - <a class="el" href="#gac9fb0f4f7ed9388ae1992d0d40dd98f0" title="Determines the length of time until the next hydraulic event occurs in an extended period simulation.">EN_nextH</a> loop.</p>
<p>See <a class="el" href="#gac9fb0f4f7ed9388ae1992d0d40dd98f0" title="Determines the length of time until the next hydraulic event occurs in an extended period simulation.">EN_nextH</a> for an example of using this function. </p>

</div>
</div>
<a id="ga0eda31372ded11a0a053798e41be456c" name="ga0eda31372ded11a0a053798e41be456c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0eda31372ded11a0a053798e41be456c">&#9670;&#160;</a></span>EN_saveH()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DLLEXPORT EN_saveH </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="epanet2__2_8h.html#ac1b7237e65fbaad96c05cc847adc0aeb">EN_Project</a></td>          <td class="paramname"><span class="paramname"><em>ph</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transfers a project's hydraulics results from its temporary hydraulics file to its binary output file, where results are only reported at uniform reporting intervals. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ph</td><td>an EPANET project handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an error code.</dd></dl>
<p><a class="el" href="#ga0eda31372ded11a0a053798e41be456c" title="Transfers a project&#39;s hydraulics results from its temporary hydraulics file to its binary output file...">EN_saveH</a> is used when only a hydraulic analysis is run and results at uniform reporting intervals need to be transferred to a project's binary output file. Such would be the case when results are to be written in formatted fashion to the project's report file using <a class="el" href="group___reporting.html#gac89aaac21e17d1900bcd0a7b8bac2db1" title="Writes simulation results in a tabular format to a project&#39;s report file.">EN_report</a>. </p>

</div>
</div>
<a id="gad2801c5cd2a3329bde3b37ca2c990b3b" name="gad2801c5cd2a3329bde3b37ca2c990b3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad2801c5cd2a3329bde3b37ca2c990b3b">&#9670;&#160;</a></span>EN_savehydfile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DLLEXPORT EN_savehydfile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="epanet2__2_8h.html#ac1b7237e65fbaad96c05cc847adc0aeb">EN_Project</a></td>          <td class="paramname"><span class="paramname"><em>ph</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>filename</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saves a project's temporary hydraulics file to disk. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ph</td><td>an EPANET project handle. </td></tr>
    <tr><td class="paramname">filename</td><td>the name of the file to be created. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an error code.</dd></dl>
<p>Use this function to save the current set of hydraulics results to a file, either for post-processing or to be used at a later time by calling the <a class="el" href="#ga78acfba723ae8288403398f6d363b201" title="Uses a previously saved binary hydraulics file to supply a project&#39;s hydraulics.">EN_usehydfile</a> function.</p>
<p>The hydraulics file contains nodal demands and heads and link flows, status, and settings for all hydraulic time steps, even intermediate ones.</p>
<p>Before calling this function hydraulic results must have been generated and saved by having called <a class="el" href="#gaaa7aaf68ebb9c8c6709489073fc08f8e" title="Runs a complete hydraulic simulation with results for all time periods written to a temporary hydraul...">EN_solveH</a> or the <a class="el" href="#ga047a21c032812f18945e7d0f98f0fbfd" title="Initializes a network prior to running a hydraulic analysis.">EN_initH</a> - <a class="el" href="#gaae06b845e3cf5dcb33196a2695a026a7" title="Computes a hydraulic solution for the current point in time.">EN_runH</a> - <a class="el" href="#gac9fb0f4f7ed9388ae1992d0d40dd98f0" title="Determines the length of time until the next hydraulic event occurs in an extended period simulation.">EN_nextH</a> sequence with the initflag argument of <a class="el" href="#ga047a21c032812f18945e7d0f98f0fbfd" title="Initializes a network prior to running a hydraulic analysis.">EN_initH</a> set to <code>EN_SAVE</code> or <code>EN_SAVE_AND_INIT</code>. </p>

</div>
</div>
<a id="gaaa7aaf68ebb9c8c6709489073fc08f8e" name="gaaa7aaf68ebb9c8c6709489073fc08f8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaa7aaf68ebb9c8c6709489073fc08f8e">&#9670;&#160;</a></span>EN_solveH()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DLLEXPORT EN_solveH </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="epanet2__2_8h.html#ac1b7237e65fbaad96c05cc847adc0aeb">EN_Project</a></td>          <td class="paramname"><span class="paramname"><em>ph</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs a complete hydraulic simulation with results for all time periods written to a temporary hydraulics file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ph</td><td>an EPANET project handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an error code.</dd></dl>
<p>Use <a class="el" href="#gaaa7aaf68ebb9c8c6709489073fc08f8e" title="Runs a complete hydraulic simulation with results for all time periods written to a temporary hydraul...">EN_solveH</a> to generate a complete hydraulic solution which can stand alone or be used as input to a water quality analysis. This function will not allow one to examine intermediate hydraulic results as they are generated. It can also be followed by calls to <a class="el" href="#ga0eda31372ded11a0a053798e41be456c" title="Transfers a project&#39;s hydraulics results from its temporary hydraulics file to its binary output file...">EN_saveH</a> and <a class="el" href="group___reporting.html#gac89aaac21e17d1900bcd0a7b8bac2db1" title="Writes simulation results in a tabular format to a project&#39;s report file.">EN_report</a> to write hydraulic results to the report file.</p>
<p>The sequence <a class="el" href="#gad192b9fea6d952eb9c2fb27e5d38aaf1" title="Opens a project&#39;s hydraulic solver.">EN_openH</a> - <a class="el" href="#ga047a21c032812f18945e7d0f98f0fbfd" title="Initializes a network prior to running a hydraulic analysis.">EN_initH</a> - <a class="el" href="#gaae06b845e3cf5dcb33196a2695a026a7" title="Computes a hydraulic solution for the current point in time.">EN_runH</a> - <a class="el" href="#gac9fb0f4f7ed9388ae1992d0d40dd98f0" title="Determines the length of time until the next hydraulic event occurs in an extended period simulation.">EN_nextH</a> - <a class="el" href="#ga243d3c641e02d6a416726eeb76443cf0" title="Closes the hydraulic solver freeing all of its allocated memory.">EN_closeH</a> can be used instead to gain access to results at intermediate time periods and directly adjust link status and control settings as a simulation proceeds.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><a class="code hl_typedef" href="epanet2__2_8h.html#ac1b7237e65fbaad96c05cc847adc0aeb">EN_Project</a> ph;</div>
<div class="line"><a class="code hl_function" href="group___project.html#ga550a6ee3432932edce526c6cf0e0742e">EN_createproject</a>(&amp;ph);</div>
<div class="line"><a class="code hl_function" href="group___project.html#gabda293c7ce17814fc886ecb1f71ecdf1">EN_open</a>(ph, <span class="stringliteral">&quot;net1.inp&quot;</span>, <span class="stringliteral">&quot;net1.rpt&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a class="code hl_function" href="#gaaa7aaf68ebb9c8c6709489073fc08f8e">EN_solveH</a>(ph);</div>
<div class="line"><a class="code hl_function" href="group___quality.html#ga7b3d8f4623cc6d4dda6fb9d3afd378f4">EN_solveQ</a>(ph);</div>
<div class="line"><a class="code hl_function" href="group___reporting.html#gac89aaac21e17d1900bcd0a7b8bac2db1">EN_report</a>(ph);</div>
<div class="line"><a class="code hl_function" href="group___project.html#ga46d6b8494c80d2f20bac8ec1d0454c6b">EN_deleteproject</a>(ph);</div>
<div class="ttc" id="aepanet2__2_8h_html_ac1b7237e65fbaad96c05cc847adc0aeb"><div class="ttname"><a href="epanet2__2_8h.html#ac1b7237e65fbaad96c05cc847adc0aeb">EN_Project</a></div><div class="ttdeci">struct Project * EN_Project</div><div class="ttdoc">The EPANET Project wrapper object.</div><div class="ttdef"><b>Definition</b> epanet2_2.h:49</div></div>
<div class="ttc" id="agroup___hydraulics_html_gaaa7aaf68ebb9c8c6709489073fc08f8e"><div class="ttname"><a href="#gaaa7aaf68ebb9c8c6709489073fc08f8e">EN_solveH</a></div><div class="ttdeci">int DLLEXPORT EN_solveH(EN_Project ph)</div><div class="ttdoc">Runs a complete hydraulic simulation with results for all time periods written to a temporary hydraul...</div></div>
<div class="ttc" id="agroup___project_html_ga46d6b8494c80d2f20bac8ec1d0454c6b"><div class="ttname"><a href="group___project.html#ga46d6b8494c80d2f20bac8ec1d0454c6b">EN_deleteproject</a></div><div class="ttdeci">int DLLEXPORT EN_deleteproject(EN_Project ph)</div><div class="ttdoc">Deletes a currently opened EPANET project.</div></div>
<div class="ttc" id="agroup___project_html_ga550a6ee3432932edce526c6cf0e0742e"><div class="ttname"><a href="group___project.html#ga550a6ee3432932edce526c6cf0e0742e">EN_createproject</a></div><div class="ttdeci">int DLLEXPORT EN_createproject(EN_Project *ph)</div><div class="ttdoc">Creates an EPANET project.</div></div>
<div class="ttc" id="agroup___project_html_gabda293c7ce17814fc886ecb1f71ecdf1"><div class="ttname"><a href="group___project.html#gabda293c7ce17814fc886ecb1f71ecdf1">EN_open</a></div><div class="ttdeci">int DLLEXPORT EN_open(EN_Project ph, const char *inpFile, const char *rptFile, const char *outFile)</div><div class="ttdoc">Reads an EPANET input file with no errors allowed.</div></div>
<div class="ttc" id="agroup___quality_html_ga7b3d8f4623cc6d4dda6fb9d3afd378f4"><div class="ttname"><a href="group___quality.html#ga7b3d8f4623cc6d4dda6fb9d3afd378f4">EN_solveQ</a></div><div class="ttdeci">int DLLEXPORT EN_solveQ(EN_Project ph)</div><div class="ttdoc">Runs a complete water quality simulation with results at uniform reporting intervals written to the p...</div></div>
<div class="ttc" id="agroup___reporting_html_gac89aaac21e17d1900bcd0a7b8bac2db1"><div class="ttname"><a href="group___reporting.html#gac89aaac21e17d1900bcd0a7b8bac2db1">EN_report</a></div><div class="ttdeci">int DLLEXPORT EN_report(EN_Project ph)</div><div class="ttdoc">Writes simulation results in a tabular format to a project&#39;s report file.</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="ga78acfba723ae8288403398f6d363b201" name="ga78acfba723ae8288403398f6d363b201"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga78acfba723ae8288403398f6d363b201">&#9670;&#160;</a></span>EN_usehydfile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DLLEXPORT EN_usehydfile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="epanet2__2_8h.html#ac1b7237e65fbaad96c05cc847adc0aeb">EN_Project</a></td>          <td class="paramname"><span class="paramname"><em>ph</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>filename</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Uses a previously saved binary hydraulics file to supply a project's hydraulics. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ph</td><td>an EPANET project handle. </td></tr>
    <tr><td class="paramname">filename</td><td>the name of the binary file containing hydraulic results. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an error code.</dd></dl>
<p>Call this function to re-use a set of hydraulic analysis results saved previously. This can save computational time if water quality analyses are being made under the same set of hydraulic conditions.</p>
<p>Do not call this function while the hydraulics solver is open. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
<!--    <li class="footer">OWA-EPANET Toolkit 2.3 &copy 2025</li> -->
  </ul>
</div>
</body>
</html>
